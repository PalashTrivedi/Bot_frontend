<div class="main-content">
  <div class="container">
      <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header card-header-danger">
                        <h4 class="card-title ">Report</h4>
                        <!-- <p class="card-category"> Here are the Queries asked by students</p> -->
                    </div>
                    <div class="card-body">
                    <form>
                        <div class="row">
                            
                            <div class="col-sm-3">
                                <mat-form-field appearance="fill">
                                    <mat-label>Start Date</mat-label>
                                    <input matInput [matDatepicker]="start_date" [max]="max_date" [value]="start_date_inital.value" (dateChange)="event_start_date_changed($event)" disabled>
                                    <mat-datepicker-toggle matSuffix [for]="start_date"></mat-datepicker-toggle>
                                    <mat-datepicker #start_date disabled="false"></mat-datepicker>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-3">
                                <mat-form-field appearance="fill">
                                    <mat-label>End Date</mat-label>
                                    <input matInput [matDatepicker]="end_date" [max]="max_date" [value]="end_date_inital.value" (dateChange)="event_end_date_changed($event)" disabled>
                                    <mat-datepicker-toggle matSuffix [for]="end_date"></mat-datepicker-toggle>
                                    <mat-datepicker #end_date disabled="false"></mat-datepicker>
                                </mat-form-field>
                            </div>
                            <!-- <div class="col-sm-3">
                                <mat-form-field>
                                    <mat-label>Select an bot</mat-label>
                                    <mat-select [(ngModel)]="bot" name="bot" id="bot" >
                                        <mat-option [value]="0">All</mat-option>
                                        <mat-option *ngFor="let bot of bots" [value]="bot.id">
                                            {{bot.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div> -->
                            <div class="col-sm-1">
                                <button mat-flat-button color="primary" type="button" style="background: #3d6cb5;margin-top: 10px;" (click)="listReport()">Filter</button>
                            </div>   
                            <div class="col-sm-1">
                                <button mat-flat-button color="primary" style="background: #3d6cb5;margin-top: 10px;"(click)="importReport()"
                                >Export</button>
                            </div>
                        </div>
                    </form>
                </div>
                </div>

                <div class="mat-elevation-z8">
                    <table mat-table [dataSource]="dataSource" matSort>
                  
                      <!-- Position Column -->
                      <ng-container matColumnDef="id" >
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>
                        <td mat-cell *matCellDef="let element; let i = index"> {{i+1}} </td>
                      </ng-container>
                      
                      <!-- Position Column -->
                      <ng-container matColumnDef="qid" >
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> QID </th>
                        <td mat-cell *matCellDef="let element"> {{element.id}} </td>
                      </ng-container>

                      <!-- Name Column -->
                      <ng-container matColumnDef="full_name">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
                        <td mat-cell *matCellDef="let element"> {{element.form_data.full_name}} </td>
                      </ng-container>
                  
                      <!-- Weight Column -->
                      <ng-container matColumnDef="email">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
                        <td mat-cell *matCellDef="let element"> {{element.form_data.email}} </td>
                      </ng-container>
                  
                      <!-- Symbol Column -->
                      <ng-container matColumnDef="query_form">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Query Form </th>
                        <td mat-cell *matCellDef="let element"> {{element.form_data.query_form}} </td>
                      </ng-container>

                      <ng-container matColumnDef="created_at">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Created Date</th>
                        <td mat-cell *matCellDef="let element"> {{element.date_created}} </td>
                      </ng-container>

                      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    </table>
                  
                    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
                  </div>
                  
                  
                  <!-- Copyright 2020 Google LLC. All Rights Reserved.
                      Use of this source code is governed by an MIT-style license that
                      can be found in the LICENSE file at http://angular.io/license -->

                <!-- <div class="card">
                  <div class="card-body">
                      <div class="table-responsive">
                          <table class="table">
                              <thead class=" text-primary">
                                  <th>
                                      ID
                                  </th>
                                  <th>
                                      Full name
                                  </th>
                                  <th>
                                      Email
                                  </th>
                                  <th>
                                        Query
                                  </th>
                              </thead>
                              <tbody>
                                  <tr *ngFor="let report of reportList; index as i">
                                      <td>
                                          {{i+1}}
                                      </td>
                                      <td>
                                          {{report.full_name}}
                                      </td>
                                      <td>
                                          {{report.email}}
                                      </td>
                                      <td>
                                          {{report.query_form}}
                                      </td>
                                  </tr>
                                  
                              </tbody>
                          </table>
                      </div>
                  </div>
              </div> -->
          </div>
      </div>
  </div>
</div>

